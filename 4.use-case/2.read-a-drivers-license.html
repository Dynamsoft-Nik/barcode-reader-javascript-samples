<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <meta name="description" content="Read the PDF417 barcode on Driver's Licenses instantly with this barcode reader.">
  <meta name="keywords" content="read driver's license barcode">
  <link rel="canonical" href="https://demo.dynamsoft.com/samples/dbr/js/4.use-case/2.read-a-drivers-license.html">
  <title>Dynamsoft Barcode Reader Simple Sample (using Dynamsoft Code Parser) - Read Driver License</title>
  <script src="https://cdn.jsdelivr.net/npm/dynamsoft-javascript-barcode@9.0.2/dist/dbr.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/dynamsoft-code-parser@1.0.2/dist/dcp.js"></script>
</head>

<body>
  <input id="ipt-file" type="file" accept="image/png,image/jpeg,image/bmp,image/gif">
  <div id="results"></div>

    <script>
        /** LICENSE ALERT - README 
         * To use the library, you need to first specify a license key using the API "license" as shown below.
         */
        Dynamsoft.DBR.BarcodeReader.license = 'DLS2eyJvcmdhbml6YXRpb25JRCI6IjIwMDAwMSJ9';
        Dynamsoft.DCP.CodeParser.license = 'DLS2eyJvcmdhbml6YXRpb25JRCI6IjIwMDAwMSJ9';

        /** 
         * You can visit https://www.dynamsoft.com/customer/license/trialLicense?utm_source=github&product=dbr&package=js to get your own trial license good for 30 days. 
         * Note that if you downloaded this sample from Dynamsoft while logged in, the above license key may already be your own 30-day trial license.
         * For more information, see https://www.dynamsoft.com/barcode-reader/programming/javascript/user-guide/?ver=9.0.2&utm_source=github#specify-the-license or contact support@dynamsoft.com.
         * LICENSE ALERT - THE END 
         */
        let pReader = null;
        let pParser = null;

        // Initializes and uses the library
        document.getElementById('ipt-file').addEventListener('change', async function() {
        try {
            let resDIV = document.getElementById('results');
            let reader = await (pReader = pReader || Dynamsoft.DBR.BarcodeReader.createInstance());
            let parser = await (pParser = pParser || Dynamsoft.DCP.CodeParser.createInstance());
            await parser.setCodeFormat(Dynamsoft.DCP.EnumCodeFormat.CF_AUTO);

            for (let i = 0; i < this.files.length; ++i) {
                // Actually there will only be one file here (no 'multiple' attribute)
                let file = this.files[i];
                // Decode the file
                let results = await reader.decode(file);
                console.log(results.length);

                if (results.length === 0) {
                    resDIV.innerHTML = "No Barcode Found!";
                    return;
                }
                var info = "";
                for (let result of results) {
                    info = await parser.parseData(result.barcodeBytes);
                    console.log(result);
                    console.log(info);
                }
            }
        } catch (ex) {
            alert(ex.message);
        }
    });

    </script>
</body>

</html>